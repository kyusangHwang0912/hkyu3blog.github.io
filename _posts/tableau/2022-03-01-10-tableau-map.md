---
layout: post
title: "맵 만들기"
subtitle:  지리적 역할 부여,맵 차트 만들기
description: >
    edwith [데이터 시각화를 위한 태블로] 강의를 참고했습니다.
sitemap: false
categories:
  - tableau
tags:
  - [Tableau, data_visualization, edwith강의]
---

* toc
{:toc .large-only}


## 태블로 맵 만들기

- 태블로에서는 맵 형태로 데이터를 표현할 수 있다. 우리나라 지리 정보가 있다면 기본적으로는 시도와 시군구명만 있더라도 태블로에서 맵 형태로 표현 가능
- 그 외에 읍면동이라든지 지점 위치를 표현하고 싶다면, 위도와 경도 값을 갖고 있거나, 별도의 공간 파일(shp파일)과 조인해서 표현 가능





### 01. 지리적 역할



#### 01-1. 지리적 역할 지정

![image-20220419152840647](/assets/md-images/image-20220419152840647.png)



- 지리적 역할 지정 방법
  - 아래와 같이 각 역할에 맞게 지정해주면 된다.
    - 국가 : 국가/지역
    - 지역 : 만들기 원본 -> 시도
    - 시도 : 주/시/도
    - 시군구 : 시군구

![image-20220419152524600](/assets/md-images/image-20220419152524600.png)

- 문자열로 되어 있는 [국가], [지역], [시도], [시군구] 필드를 기준으로 지리적 역할 부여 후 맵에서 표현

- 에러 막기 위한 계층 설정 필요

  - 다같이 계층을 만들면 가나다순으로 계층이 지정되기 때문에 순서 조정 필요
    - 이 과정 거치기 싫으면 하위계층을 드래그해서 상위계층에 드롭하면 순서에 맞는 계층이 생성된다.

  ![image-20220419152815312](/assets/md-images/image-20220419152815312.png)







##### 01-1-1. 계층 설정 안했을 시

- 강서구, 고성군, 남구, 동구, 북구, 서구, 중구 등은 겹치는 명이 존재함으로 알 수 없는 항목으로 에러가 발생

![image-20220419152325207](/assets/md-images/image-20220419152325207.png)







### 02. 맵 차트 만들기

- 지리적 역할을 적용한 필드를 각각 더블 클릭하면 뷰에 맵 차트가 표현된다.
- 해당되는 필드들은 계층으로 설정되어 있기 때문에 세부 정보 마크에서 드릴 다운하면서 화면을 세부적으로 표현 가능
- 특정 위치만 한정해서 보고자한다면 필터 사용할 수 있고, 맵 마크 위에 빠른 인사이트를 찾기 위해 색상을 표시할 수 있다.





#### 02-1. 맵 차트 예시 1

![image-20220419153934822](/assets/md-images/image-20220419153934822.png)

- 마크

  - 원
  - 색상 : 합계(수익)
    - 불투명도 : 60%
    - 테두리 : 흰색
  - 크기 : 합계(매출)
    - 크기 크게

- 필터

  - 시도 -> 서울특별시

  <img src="/assets/md-images/image-20220419153719969.png" alt="image-20220419153719969" style="zoom:50%;" />





#### 02-2. 맵 차트 예시 2

![image-20220419154008428](/assets/md-images/image-20220419154008428.png)

- 마크
  - 맵
  - 색상 : 합계(수익)
- 맵 설정 (나머지 색상 없는 지도 제외시키기)
  - 맵 -> 맵 계층 -> 투명도 100%로 변경

![image-20220419154125804](/assets/md-images/image-20220419154125804.png)

![image-20220419154147118](/assets/md-images/image-20220419154147118.png)
